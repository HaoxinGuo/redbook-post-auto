roject/
├── core/
│ ├── image_generator.py # 图片生成核心
│ └── ai_helper.py # AI 辅助功能
├── ui/
│ ├── main_window.py # 主窗口
│ ├── text_editor.py # 文本编辑器
│ ├── style_panel.py # 样式面板
│ └── styles.py # 界面样式
├── utils/
│ └── font_manager.py # 字体管理
└── resources/
├── fonts/ # 字体资源
├── backgrounds/ # 背景图片
└── config.json # 配置文件


## 3. 功能需求

### 3.1 文本编辑功能
- [x] 支持多文本块编辑
- [x] 文本块类型切换（标题/内容）
- [x] 支持文本块的添加/删除
- [x] 支持文本的复制/粘贴

### 3.2 样式定制功能
- [x] 背景图片选择
- [x] 字体样式切换（正常/手写）
- [x] 文字颜色自定义
- [x] 实时预览效果

### 3.3 图片生成功能
- [x] 3:4 比例图片生成
- [x] 自动分页处理
- [x] 支持多页面导出
- [x] 自动文本排版
- [x] 列表样式支持
- [x] 段落间距优化

### 3.4 预览功能
- [x] 实时样式预览
- [x] 多页面预览
- [x] 页面切换导航
- [x] 预览图自适应缩放

### 3.5 导出功能
- [x] 批量导出所有页面
- [x] 自定义保存路径
- [x] 自动文件命名
- [x] PNG格式保存

## 4. 界面需求

### 4.1 主窗口布局
- [x] 左侧编辑区
  - 文本编辑器
  - 样式面板
  - 操作按钮
- [x] 右侧预览区
  - 预览图片
  - 页面导航

### 4.2 样式规范
- [x] Fusion 风格界面
- [x] 统一的颜色方案
- [x] 响应式布局
- [x] 专业的控件样式

## 5. 性能需求

### 5.1 响应时间
- [x] 实时预览响应时间 < 1s
- [x] 图片生成时间 < 3s/页
- [x] 导出响应时间 < 5s

### 5.2 资源占用
- [x] 内存占用 < 500MB
- [x] CPU使用率 < 30%

## 6. 用户体验

### 6.1 交互设计
- [x] 直观的操作流程
- [x] 清晰的功能分区
- [x] 即时的操作反馈
- [x] 友好的错误提示

### 6.2 视觉设计
- [x] 专业的界面布局
- [x] 统一的设计风格
- [x] 舒适的视觉体验
- [x] 合理的空间利用

## 7. 扩展性考虑

### 7.1 配置化设计
- [x] 可配置的背景资源
- [x] 可扩展的字体支持
- [x] 灵活的样式定制
- [x] 模块化的代码结构

### 7.2 未来扩展
- [ ] AI文本优化
- [ ] 模板系统
- [ ] 云端存储
- [ ] 批量处理
Windows系统：

# 安装依赖
pip install pyinstaller pillow pyqt6

# 运行打包脚本
python build_windows.py
Mac系统：
# 安装依赖
pip3 install pyinstaller pillow pyqt6

# 运行打包脚本
python3 build_mac.py

移除了对标题特殊处理的逻辑
使用统一的高度计算和分页逻辑
根据实际内容高度决定是否需要分页
支持内容块的分割，确保充分利用页面空间
这样修改后：
标题和内容会根据实际高度自然分页
如果页面空间足够，标题和内容会出现在同一页
如果内容太长，会自动分割到下一页
保持了所有样式和格式的正确显示







